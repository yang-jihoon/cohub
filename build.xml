<?xml version="1.0" encoding="UTF-8"?>
<project name="cooperationHub_HSQL" default="usage" basedir=".">
	<property file="build.properties"/>
	
	<path id="master.classpath">
	    <fileset dir="${lib.dir}">
	        <include name="hsqldb.jar" />
	    </fileset>
	</path>
	        
	<target name="usage"></target>
	    
	<target name="hsql.startup">
	   <java classname="org.hsqldb.Server" classpathref="master.classpath" fork="true" spawn="true" >
	        <arg value="-database.0" />
	        <arg value="hqldb/data/${db.name}" />
	        <arg value="-dbname.0" />
	        <arg value="${db.name}" />
	    </java>
	</target>
	
	<target name="hsql.shutdown">
	    <sql driver="${db.driver}" classpathref="master.classpath" 
	        url="${db.url}/${db.name}" 
	        userid="${db.username}" password="${db.password}">
	        SHUTDOWN;
	    </sql>
	</target>
	
	<target name="hsql.manager">
	    <java classname="org.hsqldb.util.DatabaseManagerSwing" classpathref="master.classpath" fork="true" />
	</target>
	        
	<target name="createTable">
	    <echo message="PRINT DATA : ${db.url}/${db.name}"/>
	    <sql driver="${db.driver}" classpathref="master.classpath" 
	         url="${db.url}/${db.name}"
	         userid="${db.username}" password="${db.password}"         
	         onerror="continue" print="true">  
	    	DROP TABLE site IF EXISTS;
	    	
	    	CREATE TABLE site (
	    		id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) not null,
	    		team varchar(50),
	    		part varchar(50),
	    		name varchar(200),
	    		stage_URL varchar(1000),
	    		real_URL varchar(1000),
	    		create_Date date,
	    		description varchar(1000),
	    		PRIMARY KEY(id)
	    	);
	    	 
	    </sql> 
	</target>
	
	<target name="hsql.backup">
	    <echo message="PRINT DATA : ${db.url}/${db.name}"/>
	    <sql driver="${db.driver}" classpathref="master.classpath" 
	         url="${db.url}/${db.name}"
	         userid="${db.username}" password="${db.password}"         
	         onerror="continue" print="true">	    	
	    	BACKUP DATABASE TO 'hqldb/backup/${db.name}/' BLOCKING
	    </sql> 
	</target>
</project>     
